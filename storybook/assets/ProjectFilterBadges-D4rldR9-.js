import{r as s,j as d}from"./iframe-DUhEumfg.js";import{u as N}from"./store-pz3HR_Tn.js";import{B as S}from"./Badge-BMutQWYj.js";import{M as F,i as T,u as B,P as W,a as _,b as A,L as D,m as H}from"./proxy-DE6m3RHc.js";function $(e,o){if(typeof e=="function")return e(o);e!=null&&(e.current=o)}function K(...e){return o=>{let t=!1;const r=e.map(i=>{const n=$(i,o);return!t&&typeof n=="function"&&(t=!0),n});if(t)return()=>{for(let i=0;i<r.length;i++){const n=r[i];typeof n=="function"?n():$(e[i],null)}}}}function U(...e){return s.useCallback(K(...e),e)}class G extends s.Component{getSnapshotBeforeUpdate(o){const t=this.props.childRef.current;if(t&&o.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=T(r)&&r.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=i-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function V({children:e,isPresent:o,anchorX:t,root:r}){const i=s.useId(),n=s.useRef(null),m=s.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:g}=s.useContext(F),j=U(n,e?.ref);return s.useInsertionEffect(()=>{const{width:l,height:y,top:c,left:u,right:p}=m.current;if(o||!n.current||!l||!y)return;const x=t==="left"?`left: ${u}`:`right: ${p}`;n.current.dataset.motionPopId=i;const f=document.createElement("style");g&&(f.nonce=g);const P=r??document.head;return P.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${y}px !important;
            ${x}px !important;
            top: ${c}px !important;
          }
        `),()=>{P.contains(f)&&P.removeChild(f)}},[o]),d.jsx(G,{isPresent:o,childRef:n,sizeRef:m,children:s.cloneElement(e,{ref:j})})}const X=({children:e,initial:o,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:n,mode:m,anchorX:g,root:j})=>{const l=B(q),y=s.useId();let c=!0,u=s.useMemo(()=>(c=!1,{id:y,initial:o,isPresent:t,custom:i,onExitComplete:p=>{l.set(p,!0);for(const x of l.values())if(!x)return;r&&r()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[t,l,r]);return n&&c&&(u={...u}),s.useMemo(()=>{l.forEach((p,x)=>l.set(x,!1))},[t]),s.useEffect(()=>{!t&&!l.size&&r&&r()},[t]),m==="popLayout"&&(e=d.jsx(V,{isPresent:t,anchorX:g,root:j,children:e})),d.jsx(W.Provider,{value:u,children:e})};function q(){return new Map}const E=e=>e.key||"";function z(e){const o=[];return s.Children.forEach(e,t=>{s.isValidElement(t)&&o.push(t)}),o}const J=({children:e,custom:o,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:n="sync",propagate:m=!1,anchorX:g="left",root:j})=>{const[l,y]=_(m),c=s.useMemo(()=>z(e),[e]),u=m&&!l?[]:c.map(E),p=s.useRef(!0),x=s.useRef(c),f=B(()=>new Map),[P,I]=s.useState(c),[C,M]=s.useState(c);A(()=>{p.current=!1,x.current=c;for(let h=0;h<C.length;h++){const a=E(C[h]);u.includes(a)?f.delete(a):f.get(a)!==!0&&f.set(a,!1)}},[C,u.length,u.join("-")]);const v=[];if(c!==P){let h=[...c];for(let a=0;a<C.length;a++){const R=C[a],w=E(R);u.includes(w)||(h.splice(a,0,R),v.push(R))}return n==="wait"&&v.length&&(h=v),M(z(h)),I(c),null}const{forceRender:L}=s.useContext(D);return d.jsx(d.Fragment,{children:C.map(h=>{const a=E(h),R=m&&!l?!1:c===C||u.includes(a),w=()=>{if(f.has(a))f.set(a,!0);else return;let k=!0;f.forEach(b=>{b||(k=!1)}),k&&(L?.(),M(x.current),m&&y?.(),r&&r())};return d.jsx(X,{isPresent:R,initial:!p.current||t?void 0:!1,custom:o,presenceAffectsLayout:i,mode:n,root:j,onExitComplete:R?void 0:w,anchorX:g,children:h},a)})})};function O(){const{activeBadges:e,handleBadgeClick:o}=N();return d.jsxs("div",{"aria-label":"project-filter-badges",className:"flex gap-4 items-center flex-wrap",children:[e.length===0?d.jsx("p",{className:"text-slate-400 text-sm pl-1",children:"No active tag selected."}):null,e.length>0?d.jsx(J,{children:e.map((t,r)=>t?d.jsx(H.div,{initial:{x:-5,opacity:0},animate:{x:0,opacity:1},exit:{x:-5,opacity:0},transition:{duration:.2,type:"tween"},children:d.jsx(S,{text:t,variant:"pink",size:"sm",handleRemove:()=>o(t)})},r):null)}):null]})}O.__docgenInfo={description:"",methods:[],displayName:"ProjectFilterBadges"};export{O as P};
